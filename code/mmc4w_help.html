<h1>MMC4W - Minimal MPD Client for Windows</h1>
<p>This help file was updated for the v0.9.3 release.</p>
<h2>Putting the Music First</h2>
<p><strong>MMC4W</strong> is first and foremost <strong>Minimal</strong>.  That may be a little misleading, because it does quite a lot.  The GUI is minimal so as not to take up much room. That was the original point of this exercise.</p>
<p><strong>MMC4W</strong> is a MPD Client.  To be clear, you must have access to a running MPD server for this app to be of any value to you.</p>
<p><strong>MMC4W</strong> is open source, and does not send any data out to anyone anywhere.  It connects only to the MPD server you specify in the configuration file. (mmc4w.ini)</p>
<p>The interface contains the basic required buttons to control a MPD server:</p>
<ul>
<li>Vol +, Vol -, Play, Stop, Prev, Pause, Next and Quit.</li>
<li>A 'Mode' button eliminates the Windows title bar if desired.</li>
<li>An 'Art' button toggles a very small window that displays embedded album art.  <ul>
<li>If no embedded art is found, MMC4W's logo is displayed.</li>
</ul>
</li>
</ul>
<h3>The <strong>'File'</strong> menu contains these functions:</h3>
<ul>
<li>Configure : Opens mmc4w.ini for editing. Uses Windows configured .ini editor. (Notepad or similar)</li>
<li>Select Server : Allows you to select a server from the list in mmc4w.ini. Prompts you to select a playlist also.</li>
<li>Toggle Logging : Toggles logging On or Off.  Restart the app after toggling.</li>
<li>Reset Win Positions: Puts the two primary windows back where they were originally.</li>
<li>Exit : Same as the 'Quit' button: exits the app.</li>
</ul>
<h3>The <strong>'Tools'</strong> menu has these functions:</h3>
<ul>
<li>Reload Current Title : Reloads data about the current playing song, including art.</li>
<li>Turn Random On : Turns on random playback. Text area background is white.</li>
<li>Turn Random Off : Turns on sequential playback. Text area background is navy blue.</li>
<li>Toggle Repeat : If repeat is 0, play stops when MPD gets to the end of the playlist.</li>
<li>Toggle Consume : If consume is 1, each song is removed from the playlist after playing.</li>
<li>Toggle Single : If single is 1, each song is only played once, but left in the list.</li>
<li>Toggle Titlebar : Exposes the Windows titlebar. This allows repositioning of windows.</li>
<li>Set Non-Standard Port : Tells you how to set up a non-standard port.</li>
</ul>
<h3>There is a <strong>'Look'</strong> menu that has these functions:</h3>
<ul>
<li>Play a Single : Select a single title by title. (also emulates a little console. See Searching.)</li>
<li>Play an Album : Select an album by album title. Turns on sequential playback.</li>
<li>Find by Artist : Select a single title by artist. Also get info at the same time.</li>
<li>Reload Last Playlist : Restore your settings to the last configured playlist.</li>
<li>Select a Playlist : Select any playlist available on the connected server.</li>
</ul>
<h3>The 'Help' menu contains:</h3>
<ul>
<li>Help : This document.</li>
<li>About : Look here to find your installation path and version number.</li>
</ul>
<h2>Some Things MMC4W Does NOT Do:</h2>
<ul>
<li>Does not constantly poll the server. - Based on song duration, <strong>MMC4W</strong> checks back with the server when the song is ending.</li>
<li>Does not discover servers.  You need to know the IP address of any servers you wish to control.</li>
<li>Does not edit tags, display lyrics, get art from the web, display artist info, wash dishes or vacuum floors.</li>
<li>Does not tell you what saved playlist was loaded into the queue on a server you just joined. Nobody can do that.</li>
</ul>
<h2>First Run Process</h2>
<p>MMC4W ships with a blank .ini file.  The first time you run it, it will pop up a box like this:</p>
<p><img alt="The Configure dialog." src="./_internal/edit_config_dialog.png"></p>
<p>When you press the 'OK' button, <strong>mmc4w</strong> opens mmc4w.ini using the default Windows text editor.  On my system it's Notepad++.  Word processors like <strong>Microsoft Word</strong> should be avoided.  Only use a text editor that edits and saves plain ASCII text.  <strong>Notepad</strong> is perfectly fine for this job.</p>
<p>You need to type in your preferred MPD servers' IP address(es) in the [basic] section as shown.  Be sure to put that trailing comma on there whether you have one or several.</p>
<p><img alt="inside the mmc4w.ini file" src="./_internal/config_ini_basics.png"></p>
<p>If you have more than one server, just string those IP addresses together as seen there.</p>
<p>After typing your server IP address(es) in the [basic] section, save and close the file.</p>
<p>Restart <strong>MMC4W</strong>.  When it starts, it will attempt to connect to the first server you provided.  You can change the server by using the option under the <strong>'File'</strong> menu.</p>
<p>In the text bar of the app you will see a prompt to select one of that server's playlists.</p>
<p><img alt="Select a playlist prompt" src="./_internal/select_playlist_prompt.png"></p>
<p>Click on the Look menu and select "Select a Playlist". Once you've clicked on a playlist, you can hit the <strong>'Play'</strong> button.  You may notice an entry following "Current Playlist - ".  You will still want to click on a list in the dropdown even if you choose the same one.</p>
<p><img alt="Select a playlist" src="./_internal/select_playlist.png"></p>
<h3>Normal Operation</h3>
<p>After you press <strong>'Play'</strong>, just kick back and enjoy the music.</p>
<p>MMC4W will show you these basic statistics, alternating between the two lines of text shown in these two images:</p>
<p><img alt="Track name and Artist" src="./_internal/screen_1.png"></br><span style="color:green; font-size:smaller;">Track number, Track name and Artist.</span></p>
<p><img alt="Server IP, status, playlist." src="./_internal/screen_2.png"></br><span style="color:green; font-size:smaller;">Server, Play Status, PlayList and Elapsed-vs-Duration in seconds.</span></p>
<p>Random, rePeat, Single and Consume status is shown here.  A capital letter means 'ON', lower case means 'OFF'. 'P' is for rePeat because you can't have two 'R's.</p>
<p><img alt="Random, rePeat, Single and Consume" src="./_internal/screen_2b.png"></p>
<p>The <strong>'Art'</strong> button toggles the small album art window.</p>
<p>The <strong>'Mode'</strong> button toggles the titlebar like this:</p>
<p><img alt="Titlebar on." src="./_internal/titlebar.png"></p>
<p>When the titlebars are on, you can drag the windows around. (You will likely have to expand the art window a bit).  Where you leave the upper-left corners gets saved when you press <strong>'Mode'</strong> again.  Your windows will stay there until you press <strong>'Mode'</strong> again.</p>
<p>The default out-of-the-box values are saved in the mmc4w.ini file at the bottom.  Use those in case things get out of hand.</p>
<h3>Search and Play</h3>
<p>There are three options under the <strong>'Look'</strong> menu related to search.</p>
<ul>
<li>Play a Single</li>
<li>Play an Album</li>
<li>Find by Artist</li>
</ul>
<p>All three options use the same window, just differently. There's a 'mode' hint in the titlebar to help you out.</p>
<p><strong>Note:</strong> The Search window is resizeable.  </p>
<p><strong>Play a Single</strong> opens the Search window and allows you to type some search term.  This is a <strong>Title</strong> search.  If any song title in the entire library contains the search term, it will be displayed when you press <strong>[enter]</strong></p>
<p><img alt="Title Search." src="./_internal/search_title.png"></br><span style="color:green; font-size:smaller;">Song title search.</span></p>
<p>When you click on one of them, it plays that one title then stops.  Use another <strong>'Look'</strong> menu option to do something else.</p>
<p><strong>Play an Album</strong> opens the same Search window.  This time you are searching for text contained in <strong>Album</strong> names.</p>
<p>Clicking on a list entry loads up the songs on that album and plays them sequentially, first to last.  You will notice the text area turns blue with white text.  That is the visual indicator that <strong>Random Mode</strong> has been turned off.  </p>
<p><img alt="Album Search." src="./_internal/album_mode.png"></br><span style="color:green; font-size:smaller;">Album title search.</span></p>
<p>I call this "<strong>True Blue Album Mode</strong>".  Use the <strong>'Tools'</strong> menu to turn Random playback on when you want it. No assumptions are made about whether you want random or sequential playback outside of Album Mode.</p>
<p><strong>Find by Artist</strong> opens the Search window, but this time you are searching by Artist name.  Keep in mind this is the name as it appears in your music library. If you click in the Search: field and just press [enter], you'll get a list of all your songs ordered by Artist.  </p>
<p><img alt="Artist Search." src="./_internal/search_artist.png"></br><span style="color:green; font-size:smaller;">Artist search. Click in field and hit Enter for all songs.</span></p>
<p>This can be useful when you don't know what you're looking for.  Otherwise, type in some text to filter your list.</p>
<h3>The 'mini console'</h3>
<ul>
<li>Select the 'Play a Single' option.</li>
<li>In the Search: field, type 'status' (no quotes).  You'll see the current status info.</li>
<li>Type 'stats' and you'll get server stats appended to the bottom.  Scroll down.</li>
<li>Type 'quit;' (with the semicolon) and the window closes.</li>
</ul>
<p>This was something I just didn't want to do without.</p>
<h3>Logging</h3>
<p>Logging can be enabled by using the '<strong>Toggle Logging</strong>' option under the <strong>File</strong> menu.</p>
<p><img alt="Toggle Logging" src="./_internal/toggle_logging.png"></p>
<p>After using the '<strong>Toggle Logging</strong>' option, restart MMC4W.</p>
<p>MMC4W currently supports two levels of logging: <strong>INFO</strong> and <strong>DEBUG</strong>.  INFO lists basic actions that should be occurring as they occur.  DEBUG adds another layer of potentially useful data to the stream.</p>
<p><img alt="Setting the Log Level" src="./_internal/logging.png"></p>
<p>To set the logging level, use the '<strong>Configure</strong>' option and edit the <strong>mmc4w.ini</strong> file.  Type either 'info' or 'debug' where indicated (without quotes).</p>
<p>The resulting log file (<strong>mmc4w.log</strong>) can be found in the <strong>_internal</strong> folder in the installation folder.  The log file is deleted and started fresh each time you start <strong>MMC4W</strong>.  If you toggle Off logging, the last log file will remain until you delete it or create a new one by toggling logging On again.</p>
<p>The DEBUG file (<strong>mmc4w_DEBUG.log</strong>) does not start fresh with each run, and is not deleted.</p>
<h3>Other Random Options</h3>
<p>Under the <strong>'Tools'</strong> menu there is the <strong>'Set Non-Standard Port'</strong> option.  Choosing that opens a pop-up which provides details about how to set any port other than 6600 (the default MPD port).  Most people will never use this.</p>
<h2>Notes About What Happens Under the Hood</h2>
<p>When you press '<strong>Play</strong>', MMC4W reaches out to the configured server and asks for data on the current song.  Then it asks for a status report.  From the returned data, MMC4W calculates how much longer the current song should be playing.  If album art is being displayed, it attempts to get art embedded in the song.  If that is successful, it displays the art.  If not, it displays the MMC4W logo.</p>
<p>MMC4W uses the Python <strong>threading</strong> module to run a timer in conjunction with a small set of global variables.  In this way we're able to keep the interface satisfactorily snappy and avoid having to poll the server every few seconds to determine if a new song is playing.</p>
<p>The Tkinter interface runs continuously waiting for button presses.  Blocking code (like sleep(10)) is avoided at all cost.  As a result, things work.  From my chair, it's perfect.  We'll see how long that perspective lasts, shan't we?</p>
<p>The design of this utility is intentionally simple.  I'm sure there are several 'better' ways it can be done, I just don't know what they are. </p>
<h3>Minutia</h3>
<p>MMC4W was developed and tested in Windows 10.  <strong>MPD</strong> is running on three different computers here, one i7 Ubuntu, one i3 Ubuntu and one Raspberry Pi.  My music library is made up exclusively of FLAC files.  I rip my CD's (remember those?) using <a href="https://getmusicbee.com/">Music Bee</a>.  I create a 'folder.jpg' file for each album and embed the art in the songs using <strong><a href="https://www.mp3tag.de/en/">MP3TAG</a></strong> or <strong>Music Bee</strong> depending on the circumstances.</p>
<p>I hope you enjoy using this as much as I do.<br><br></p>
<p>-------------------------------------------- <br>
<strong>MMC4W</strong> is written in <span style="color:red;">Python</span> and complied using <span style="color:red;">Pyinstaller</span>.  The Windows installer is built using the <span style="color:red;">Inno Setup Compiler</span>.<br>
<strong>Many thanks</strong> to <span style="color:green;">bauripalash (Palash Bauri)</span> for <a href="https://github.com/bauripalash/tkhtmlview">tkhtmlview</a>, which makes this help file window look so good!</br>
<strong>Also thanks</strong> to <a href="https://gitlab.com/kaliko">kaliko</a> for the <a href="https://gitlab.com/kaliko/python-musicpd">python-musicpd</a> library!</br>&copy;2023-2024 - Gregory A. Sanders (dr.gerg@drgerg.com)</p>